{"openapi":"3.1.0","info":{"title":"System admin ETU-forms","version":"0.0.1","description":"\n\n## ETU-forms\n\n### Приглашение и регистрация новых пользователей\n\nПриглашать новых пользователей может:\n\n1. `system-admin` - приглашает системных администраторов и администраторов процессов\n2. `process-admin`- приглашает участников/менеджеров/экспертов в любой процесс\n3. `user`, который является менеджером процесса - приглашает участников/менеджеров/экспертов только в те процессы, за которыми он закреплен\n\n\nПроцесс приглашения, например за `system-admin` (для остальных ролей - аналогично):\n\n1. `POST /system-admin/user/invite` - В результате будет отправлено письмо со ссылкой для регистрации на указанный email, в ссылку включается код активации пользователя, статус пользователя `UserSattusEnum.invited`\n2. `POST /auth/sign-up` -  Ожидается пароль пользователя и код активации из ссылки, которая была в письме, после чего статус пользователя `UserSattusEnum.activated`"},"paths":{"/auth/sign-up":{"post":{"summary":"⏳ Зарегистрироваться в системе","description":"⏳️ — Данный метод еще **не реализован** \n\n","deprecated":false,"operationId":"POST_/sign-up","requestBody":{"content":{"application/json":{"schema":{"description":"AuthSignUpDto","$ref":"#/components/schemas/AuthSignUpDto"}}}},"parameters":[],"responses":{"201":{"description":"Сущность создана успешно (AuthSignUpResponse)","content":{"application/json":{"schema":{"description":"AuthSignUpResponse","$ref":"#/components/schemas/AuthSignUpResponse"}}}}},"tags":["Общее"]}},"/auth/sign-in":{"post":{"summary":"⏳ Авторизоваться в системе по связке логин-пароль","description":"⏳️ — Данный метод еще **не реализован** \n\n","deprecated":false,"operationId":"POST_/sign-in","requestBody":{"content":{"application/json":{"schema":{"description":"AuthSignInDto","$ref":"#/components/schemas/AuthSignInDto"}}}},"parameters":[],"responses":{"201":{"description":"Сущность создана успешно (AuthSignInResponse)","content":{"application/json":{"schema":{"description":"AuthSignInResponse","$ref":"#/components/schemas/AuthSignInResponse"}}}}},"tags":["Общее"]}},"/auth/refresh":{"post":{"summary":"⏳ Обновить access токен по refresh токену","security":[{"bearerAuth":[]}],"description":"⏳️ — Данный метод еще **не реализован** \n\nОбновить access токен по refresh токену (если истек, то только по /sign-in)","deprecated":false,"operationId":"POST_/refresh","requestBody":{"content":{"application/json":{"schema":{"description":"AuthRefreshDto","$ref":"#/components/schemas/AuthRefreshDto"}}}},"parameters":[],"responses":{"201":{"description":"Сущность создана успешно (AuthRefreshResponse)","content":{"application/json":{"schema":{"description":"AuthRefreshResponse","$ref":"#/components/schemas/AuthRefreshResponse"}}}}},"tags":["Общее"]}},"/system-admin/user/invite":{"post":{"summary":"⏳ Пригласить пользователя в систему","security":[{"bearerAuth":[]}],"description":"⏳️ — Данный метод еще **не реализован** \n\n","deprecated":false,"operationId":"POST_/invite","requestBody":{"content":{"application/json":{"schema":{"description":"SystemAdminUserInviteDto","$ref":"#/components/schemas/SystemAdminUserInviteDto"}}}},"parameters":[],"responses":{"201":{"description":"Сущность создана успешно (SystemAdminUserInviteResponse)","content":{"application/json":{"schema":{"description":"SystemAdminUserInviteResponse","$ref":"#/components/schemas/SystemAdminUserInviteResponse"}}}}},"tags":["Пользователи"]}},"/system-admin/user/delete":{"post":{"summary":"⏳ Удалить пользователя из системы","security":[{"bearerAuth":[]}],"description":"⏳️ — Данный метод еще **не реализован** \n\n","deprecated":false,"operationId":"POST_/delete","requestBody":{"content":{"application/json":{"schema":{"description":"SystemAdminUserDeleteDto","$ref":"#/components/schemas/SystemAdminUserDeleteDto"}}}},"parameters":[],"responses":{"201":{"description":"Сущность создана успешно"}},"tags":["Пользователи"]}}},"webhooks":{},"tags":[{"name":"Пользователи"},{"name":"Процессы"},{"name":"Процессы"},{"name":"Общее"}],"components":{"schemas":{"AuthSignUpDto":{"type":"object","title":"AuthSignUpDto","properties":{"activationToken":{"nullable":false,"description":"Токен активации из ссылки в письме","example":"Текстовое значение","minLength":1000,"maxLength":0,"type":"string"},"password":{"nullable":false,"description":"Пароль","example":"Текстовое значение","minLength":6,"maxLength":50,"type":"string"},"samePassword":{"nullable":false,"description":"Такой же пароль для подтверждения","example":"Текстовое значение","minLength":6,"maxLength":50,"type":"string"}},"required":["activationToken","password","samePassword"]},"AuthSignUpResponse":{"type":"object","title":"AuthSignUpResponse","properties":{"id":{"example":1,"description":"Id сущности","nullable":false,"type":"integer"},"status":{"description":"Статус пользователя: activated","nullable":false,"enum":["invited","activated"],"type":"string"}},"required":["id","status"]},"AuthSignInDto":{"type":"object","title":"AuthSignInDto","properties":{"email":{"example":"email@example.com","description":"Адрес электронной почты","nullable":false,"type":"string"},"password":{"nullable":false,"description":"Пароль","example":"Текстовое значение","minLength":6,"maxLength":50,"type":"string"}},"required":["email","password"]},"AuthSignInResponse":{"type":"object","title":"AuthSignInResponse","properties":{"accessToken":{"description":"access JWT токен","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlzQmFuIjpmYWxzZSwiaXNBY3RpdmUiOnRydWUsImlhdCI6MTcxNTc2MjQ5OCwiZXhwIjoxNzE2MDIxNjk4fQ.K73LOmx9CyGIWKSU9uqi4trBFcHPvUvJyXRldM1V6m8","type":"string"},"refreshToken":{"description":"refresh JWT токен","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlzQmFuIjpmYWxzZSwiaXNBY3RpdmUiOnRydWUsImlhdCI6MTcxNTc2MjQ5OCwiZXhwIjoxNzE2MDIxNjk4fQ.K73LOmx9CyGIWKSU9uqi4trBFcHPvUvJyXRldM1V6m8","type":"string"},"accessTokenExpiredAt":{"example":"2024-04-26T12:00:00Z","pattern":"YYYY-MM-DDTHH:mm:ssZ","description":"Дата и время истечения access JWT токена","type":"string"},"refreshTokenExpiredAt":{"example":"2024-04-26T12:00:00Z","pattern":"YYYY-MM-DDTHH:mm:ssZ","description":"Дата и время истечения refresh JWT токена","type":"string"},"role":{"description":"Роль","nullable":false,"enum":["user","processAdmin","systemAdmin"],"type":"string"}},"required":["accessToken","refreshToken","accessTokenExpiredAt","refreshTokenExpiredAt","role"]},"AuthRefreshDto":{"type":"object","title":"AuthRefreshDto","properties":{"refreshToken":{"description":"refresh JWT токен","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlzQmFuIjpmYWxzZSwiaXNBY3RpdmUiOnRydWUsImlhdCI6MTcxNTc2MjQ5OCwiZXhwIjoxNzE2MDIxNjk4fQ.K73LOmx9CyGIWKSU9uqi4trBFcHPvUvJyXRldM1V6m8","type":"string"}},"required":["refreshToken"]},"AuthRefreshResponse":{"type":"object","title":"AuthRefreshResponse","properties":{"accessToken":{"description":"access JWT токен","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlzQmFuIjpmYWxzZSwiaXNBY3RpdmUiOnRydWUsImlhdCI6MTcxNTc2MjQ5OCwiZXhwIjoxNzE2MDIxNjk4fQ.K73LOmx9CyGIWKSU9uqi4trBFcHPvUvJyXRldM1V6m8","type":"string"},"refreshToken":{"description":"refresh JWT токен","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlzQmFuIjpmYWxzZSwiaXNBY3RpdmUiOnRydWUsImlhdCI6MTcxNTc2MjQ5OCwiZXhwIjoxNzE2MDIxNjk4fQ.K73LOmx9CyGIWKSU9uqi4trBFcHPvUvJyXRldM1V6m8","type":"string"},"accessTokenExpiredAt":{"example":"2024-04-26T12:00:00Z","pattern":"YYYY-MM-DDTHH:mm:ssZ","description":"Дата и время истечения access JWT токена","type":"string"},"refreshTokenExpiredAt":{"example":"2024-04-26T12:00:00Z","pattern":"YYYY-MM-DDTHH:mm:ssZ","description":"Дата и время истечения refresh JWT токена","type":"string"}},"required":["accessToken","refreshToken","accessTokenExpiredAt","refreshTokenExpiredAt"]},"SystemAdminUserInviteDto":{"type":"object","title":"SystemAdminUserInviteDto","properties":{"name":{"nullable":false,"description":"Имя пользователя","example":"Текстовое значение","minLength":1000,"maxLength":0,"type":"string"},"surname":{"nullable":false,"description":"Фамилия пользователя","example":"Текстовое значение","minLength":1000,"maxLength":0,"type":"string"},"patronymic":{"nullable":true,"description":"Отчество пользователя","example":"Текстовое значение","minLength":1000,"maxLength":0,"type":"string"},"email":{"example":"email@example.com","description":"Адрес электронной почты","nullable":false,"type":"string"},"role":{"description":"Роль пользователя","nullable":false,"enum":["user","processAdmin","systemAdmin"],"type":"string"}},"required":["name","surname","patronymic","email","role"]},"SystemAdminUserInviteResponse":{"type":"object","title":"SystemAdminUserInviteResponse","properties":{"id":{"example":1,"description":"Id сущности","nullable":false,"type":"integer"},"status":{"description":"Статус пользователя: invited","nullable":false,"enum":["invited","activated"],"type":"string"}},"required":["id","status"]},"SystemAdminUserDeleteDto":{"type":"object","title":"SystemAdminUserDeleteDto","properties":{"id":{"example":1,"description":"Id сущности","nullable":false,"type":"integer"}},"required":["id"]}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer"}}},"x-tagGroups":[{"name":"Регистрация и авторизация","tags":["Общее"]},{"name":"Админ системы","tags":["Пользователи","Процессы"]},{"name":"Админ процессов","tags":["Процессы"]},{"name":"Пользователь","tags":[]}]}